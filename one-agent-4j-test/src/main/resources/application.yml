spring:
  application:
    name: one-agent-test-app
  profiles:
    active: dev

server:
  port: 8080

# One Agent 配置
one-agent:
  # 是否启用 (默认 true)
  enabled: true

  # 应用名称 (不配置则使用 spring.application.name)
  # app-name: one-agent-test-app

  # 环境 (不配置则使用 spring.profiles.active)
  # environment: dev

  # 采样率 (0.0-1.0, 1.0 表示 100% 采样)
  sampling-rate: 1.0

  # 上报服务器地址 (可选，不配置则只打印日志)
  # server-url: http://localhost:9090

  # 上报策略
  report-strategy:
    # 上报模式: sync(同步)/async(异步)/batch(批量)
    mode: async
    # 批量上报批次大小
    batch-size: 10
    # 批量上报最大等待时间 (毫秒)
    max-wait-time: 5000
    # 异步上报队列大小
    queue-size: 1000
    # 异步上报线程池大小
    thread-pool-size: 2

  # 异常捕获配置
  capture-config:
    # 是否启用 Filter 捕获
    enable-filter: true
    # 是否启用 ControllerAdvice 捕获
    enable-controller-advice: true
    # 是否启用 AOP 捕获
    enable-aop: true
    # AOP 切入点表达式
    aop-pointcut: "execution(* com.*.*.*.service..*.*(..))"
    # 忽略的异常类型
    ignored-exceptions:
      # - org.springframework.security.access.AccessDeniedException
    # 忽略的包路径
    ignored-packages:
      # - org.springframework

# 日志配置
logging:
  level:
    root: INFO
    com.all.in.one.agent: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"
